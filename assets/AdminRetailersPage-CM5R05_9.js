import{c as se,r as i,o as lt,j as e,p as re,s as W,F as ct,P as R,q as D,S as dt,C as w,J as mt,K as ut,a as f,X as gt,T as ft,U as ne,b as pt,B as y}from"./index-D3NDjr5B.js";import{A as xt}from"./AdminHeader-BAyozb3y.js";import{I as O}from"./input-BdVIbqQ3.js";import{L as z}from"./label-JMk-u86Z.js";import{C as N,a as T,b as P,d as j,c as ht}from"./card-BFk44DtX.js";import{B as ae}from"./badge-BNXinaOz.js";import{d as G,h as vt,i as yt,g as At,F as Nt}from"./dropdown-menu-DdC2iEtp.js";import{S as jt}from"./SEO-BaS7uEy3.js";import{P as oe}from"./plus-CiqXQg95.js";import{S as Dt}from"./search-B-Nupm7w.js";import{C as Ct}from"./circle-check-Cypj3uIt.js";import{E as bt}from"./external-link-2WvkbNUd.js";import{T as Rt}from"./trash-2-C4pTXx8A.js";import"./house-DV4jgYEM.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_t=se("circle-x",wt);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],St=se("shield",Et);var M="Dialog",[ie,le]=re(M),[Ot,x]=ie(M),ce=t=>{const{__scopeDialog:a,children:o,open:s,defaultOpen:n,onOpenChange:l,modal:c=!0}=t,d=i.useRef(null),u=i.useRef(null),[g,p]=lt({prop:s,defaultProp:n??!1,onChange:l,caller:M});return e.jsx(Ot,{scope:a,triggerRef:d,contentRef:u,contentId:G(),titleId:G(),descriptionId:G(),open:g,onOpenChange:p,onOpenToggle:i.useCallback(()=>p(_=>!_),[p]),modal:c,children:o})};ce.displayName=M;var de="DialogTrigger",me=i.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,n=x(de,o),l=w(a,n.triggerRef);return e.jsx(R.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":U(n.open),...s,ref:l,onClick:D(t.onClick,n.onOpenToggle)})});me.displayName=de;var V="DialogPortal",[Tt,ue]=ie(V,{forceMount:void 0}),ge=t=>{const{__scopeDialog:a,forceMount:o,children:s,container:n}=t,l=x(V,a);return e.jsx(Tt,{scope:a,forceMount:o,children:i.Children.map(s,c=>e.jsx(W,{present:o||l.open,children:e.jsx(ct,{asChild:!0,container:n,children:c})}))})};ge.displayName=V;var k="DialogOverlay",fe=i.forwardRef((t,a)=>{const o=ue(k,t.__scopeDialog),{forceMount:s=o.forceMount,...n}=t,l=x(k,t.__scopeDialog);return l.modal?e.jsx(W,{present:s||l.open,children:e.jsx(It,{...n,ref:a})}):null});fe.displayName=k;var Pt=mt("DialogOverlay.RemoveScroll"),It=i.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,n=x(k,o);return e.jsx(yt,{as:Pt,allowPinchZoom:!0,shards:[n.contentRef],children:e.jsx(R.div,{"data-state":U(n.open),...s,ref:a,style:{pointerEvents:"auto",...s.style}})})}),A="DialogContent",pe=i.forwardRef((t,a)=>{const o=ue(A,t.__scopeDialog),{forceMount:s=o.forceMount,...n}=t,l=x(A,t.__scopeDialog);return e.jsx(W,{present:s||l.open,children:l.modal?e.jsx(kt,{...n,ref:a}):e.jsx(Mt,{...n,ref:a})})});pe.displayName=A;var kt=i.forwardRef((t,a)=>{const o=x(A,t.__scopeDialog),s=i.useRef(null),n=w(a,o.contentRef,s);return i.useEffect(()=>{const l=s.current;if(l)return vt(l)},[]),e.jsx(xe,{...t,ref:n,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:D(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=o.triggerRef.current)==null||c.focus()}),onPointerDownOutside:D(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:D(t.onFocusOutside,l=>l.preventDefault())})}),Mt=i.forwardRef((t,a)=>{const o=x(A,t.__scopeDialog),s=i.useRef(!1),n=i.useRef(!1);return e.jsx(xe,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(s.current||(d=o.triggerRef.current)==null||d.focus(),l.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:l=>{var u,g;(u=t.onInteractOutside)==null||u.call(t,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const c=l.target;((g=o.triggerRef.current)==null?void 0:g.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&n.current&&l.preventDefault()}})}),xe=i.forwardRef((t,a)=>{const{__scopeDialog:o,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:l,...c}=t,d=x(A,o),u=i.useRef(null),g=w(a,u);return At(),e.jsxs(e.Fragment,{children:[e.jsx(Nt,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:l,children:e.jsx(ut,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":U(d.open),...c,ref:g,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Ft,{titleId:d.titleId}),e.jsx(zt,{contentRef:u,descriptionId:d.descriptionId})]})]})}),B="DialogTitle",he=i.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,n=x(B,o);return e.jsx(R.h2,{id:n.titleId,...s,ref:a})});he.displayName=B;var ve="DialogDescription",ye=i.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,n=x(ve,o);return e.jsx(R.p,{id:n.descriptionId,...s,ref:a})});ye.displayName=ve;var Ae="DialogClose",Ne=i.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,n=x(Ae,o);return e.jsx(R.button,{type:"button",...s,ref:a,onClick:D(t.onClick,()=>n.onOpenChange(!1))})});Ne.displayName=Ae;function U(t){return t?"open":"closed"}var je="DialogTitleWarning",[$t,De]=dt(je,{contentName:A,titleName:B,docsSlug:"dialog"}),Ft=({titleId:t})=>{const a=De(je),o=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return i.useEffect(()=>{t&&(document.getElementById(t)||console.error(o))},[o,t]),null},Lt="DialogDescriptionWarning",zt=({contentRef:t,descriptionId:a})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${De(Lt).contentName}}.`;return i.useEffect(()=>{var l;const n=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");a&&n&&(document.getElementById(a)||console.warn(s))},[s,t,a]),null},Ce=ce,Gt=me,be=ge,H=fe,q=pe,J=he,Y=ye,K=Ne;const Wt=Ce,Vt=be,Re=i.forwardRef(({className:t,...a},o)=>e.jsx(H,{ref:o,className:f("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a}));Re.displayName=H.displayName;const we=i.forwardRef(({className:t,children:a,...o},s)=>e.jsxs(Vt,{children:[e.jsx(Re,{}),e.jsxs(q,{ref:s,className:f("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...o,children:[a,e.jsxs(K,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(gt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));we.displayName=q.displayName;const _e=({className:t,...a})=>e.jsx("div",{className:f("flex flex-col space-y-1.5 text-center sm:text-left",t),...a});_e.displayName="DialogHeader";const Ee=({className:t,...a})=>e.jsx("div",{className:f("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});Ee.displayName="DialogFooter";const Se=i.forwardRef(({className:t,...a},o)=>e.jsx(J,{ref:o,className:f("text-lg font-semibold leading-none tracking-tight",t),...a}));Se.displayName=J.displayName;const Oe=i.forwardRef(({className:t,...a},o)=>e.jsx(Y,{ref:o,className:f("text-sm text-muted-foreground",t),...a}));Oe.displayName=Y.displayName;var Te="AlertDialog",[Bt]=re(Te,[le]),v=le(),Pe=t=>{const{__scopeAlertDialog:a,...o}=t,s=v(a);return e.jsx(Ce,{...s,...o,modal:!0})};Pe.displayName=Te;var Ut="AlertDialogTrigger",Ht=i.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,n=v(o);return e.jsx(Gt,{...n,...s,ref:a})});Ht.displayName=Ut;var qt="AlertDialogPortal",Ie=t=>{const{__scopeAlertDialog:a,...o}=t,s=v(a);return e.jsx(be,{...s,...o})};Ie.displayName=qt;var Jt="AlertDialogOverlay",ke=i.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,n=v(o);return e.jsx(H,{...n,...s,ref:a})});ke.displayName=Jt;var C="AlertDialogContent",[Yt,Kt]=Bt(C),Qt=ft("AlertDialogContent"),Me=i.forwardRef((t,a)=>{const{__scopeAlertDialog:o,children:s,...n}=t,l=v(o),c=i.useRef(null),d=w(a,c),u=i.useRef(null);return e.jsx($t,{contentName:C,titleName:$e,docsSlug:"alert-dialog",children:e.jsx(Yt,{scope:o,cancelRef:u,children:e.jsxs(q,{role:"alertdialog",...l,...n,ref:d,onOpenAutoFocus:D(n.onOpenAutoFocus,g=>{var p;g.preventDefault(),(p=u.current)==null||p.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[e.jsx(Qt,{children:s}),e.jsx(Zt,{contentRef:c})]})})})});Me.displayName=C;var $e="AlertDialogTitle",Fe=i.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,n=v(o);return e.jsx(J,{...n,...s,ref:a})});Fe.displayName=$e;var Le="AlertDialogDescription",ze=i.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,n=v(o);return e.jsx(Y,{...n,...s,ref:a})});ze.displayName=Le;var Xt="AlertDialogAction",Ge=i.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,n=v(o);return e.jsx(K,{...n,...s,ref:a})});Ge.displayName=Xt;var We="AlertDialogCancel",Ve=i.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,{cancelRef:n}=Kt(We,o),l=v(o),c=w(a,n);return e.jsx(K,{...l,...s,ref:c})});Ve.displayName=We;var Zt=({contentRef:t})=>{const a=`\`${C}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${C}\` by passing a \`${Le}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${C}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{var s;document.getElementById((s=t.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},ea=Pe,ta=Ie,Be=ke,Ue=Me,He=Ge,qe=Ve,Je=Fe,Ye=ze;const aa=ea,oa=ta,Ke=i.forwardRef(({className:t,...a},o)=>e.jsx(Be,{className:f("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:o}));Ke.displayName=Be.displayName;const Qe=i.forwardRef(({className:t,...a},o)=>e.jsxs(oa,{children:[e.jsx(Ke,{}),e.jsx(Ue,{ref:o,className:f("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));Qe.displayName=Ue.displayName;const Xe=({className:t,...a})=>e.jsx("div",{className:f("flex flex-col space-y-2 text-center sm:text-left",t),...a});Xe.displayName="AlertDialogHeader";const Ze=({className:t,...a})=>e.jsx("div",{className:f("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});Ze.displayName="AlertDialogFooter";const et=i.forwardRef(({className:t,...a},o)=>e.jsx(Je,{ref:o,className:f("text-lg font-semibold",t),...a}));et.displayName=Je.displayName;const tt=i.forwardRef(({className:t,...a},o)=>e.jsx(Ye,{ref:o,className:f("text-sm text-muted-foreground",t),...a}));tt.displayName=Ye.displayName;const at=i.forwardRef(({className:t,...a},o)=>e.jsx(He,{ref:o,className:f(ne(),t),...a}));at.displayName=He.displayName;const ot=i.forwardRef(({className:t,...a},o)=>e.jsx(qe,{ref:o,className:f(ne({variant:"outline"}),"mt-2 sm:mt-0",t),...a}));ot.displayName=qe.displayName;const I={luxury:{label:"Luxury & Designer",color:"bg-purple-500"},contemporary:{label:"Contemporary",color:"bg-blue-500"},"fast-fashion":{label:"Fast Fashion",color:"bg-green-500"},marketplace:{label:"Marketplace",color:"bg-orange-500"}},sa=[{domain:"nordstrom.com",name:"Nordstrom",category:"luxury",addedAt:"2024-01-01",isActive:!0},{domain:"net-a-porter.com",name:"Net-A-Porter",category:"luxury",addedAt:"2024-01-01",isActive:!0},{domain:"saksfifthavenue.com",name:"Saks Fifth Avenue",category:"luxury",addedAt:"2024-01-01",isActive:!0},{domain:"bergdorfgoodman.com",name:"Bergdorf Goodman",category:"luxury",addedAt:"2024-01-01",isActive:!0},{domain:"matchesfashion.com",name:"Matches Fashion",category:"luxury",addedAt:"2024-01-01",isActive:!0},{domain:"mytheresa.com",name:"Mytheresa",category:"luxury",addedAt:"2024-01-01",isActive:!0},{domain:"luisaviaroma.com",name:"Luisa Via Roma",category:"luxury",addedAt:"2024-01-01",isActive:!0},{domain:"farfetch.com",name:"Farfetch",category:"luxury",addedAt:"2024-01-01",isActive:!0},{domain:"ssense.com",name:"SSENSE",category:"luxury",addedAt:"2024-01-01",isActive:!0},{domain:"shopbop.com",name:"Shopbop",category:"contemporary",addedAt:"2024-01-01",isActive:!0},{domain:"revolve.com",name:"Revolve",category:"contemporary",addedAt:"2024-01-01",isActive:!0},{domain:"anthropologie.com",name:"Anthropologie",category:"contemporary",addedAt:"2024-01-01",isActive:!0},{domain:"freepeople.com",name:"Free People",category:"contemporary",addedAt:"2024-01-01",isActive:!0},{domain:"urbanoutfitters.com",name:"Urban Outfitters",category:"contemporary",addedAt:"2024-01-01",isActive:!0},{domain:"zara.com",name:"Zara",category:"fast-fashion",addedAt:"2024-01-01",isActive:!0},{domain:"hm.com",name:"H&M",category:"fast-fashion",addedAt:"2024-01-01",isActive:!0},{domain:"asos.com",name:"ASOS",category:"fast-fashion",addedAt:"2024-01-01",isActive:!0},{domain:"mango.com",name:"Mango",category:"fast-fashion",addedAt:"2024-01-01",isActive:!0},{domain:"stories.com",name:"& Other Stories",category:"fast-fashion",addedAt:"2024-01-01",isActive:!0},{domain:"amazon.com",name:"Amazon",category:"marketplace",addedAt:"2024-01-01",isActive:!0},{domain:"etsy.com",name:"Etsy",category:"marketplace",addedAt:"2024-01-01",isActive:!0},{domain:"ebay.com",name:"eBay",category:"marketplace",addedAt:"2024-01-01",isActive:!0}];function ya(){var X,Z,ee;const[t,a]=i.useState(sa),[o,s]=i.useState(""),[n,l]=i.useState(!1),[c,d]=i.useState(null),[u,g]=i.useState(""),[p,_]=i.useState(null),{toast:b}=pt(),[h,E]=i.useState({domain:"",name:"",category:"contemporary"});i.useEffect(()=>{const r=localStorage.getItem("trusted-retailers");if(r)try{a(JSON.parse(r))}catch(m){console.error("Failed to load retailers:",m)}},[]),i.useEffect(()=>{localStorage.setItem("trusted-retailers",JSON.stringify(t))},[t]);const st=()=>{const r=h.domain.trim().toLowerCase();if(!r||!h.name.trim()){b({title:"Validation Error",description:"Please fill in all fields",variant:"destructive"});return}if(t.some(F=>F.domain===r)){b({title:"Duplicate Domain",description:"This retailer already exists",variant:"destructive"});return}if(!/^[a-z0-9.-]+\.[a-z]{2,}$/.test(r)){b({title:"Invalid Domain",description:"Please enter a valid domain (e.g., example.com)",variant:"destructive"});return}const m={domain:r,name:h.name.trim(),category:h.category,addedAt:new Date().toISOString(),isActive:!0};a([...t,m]),l(!1),E({domain:"",name:"",category:"contemporary"}),b({title:"Success",description:`${m.name} added to trusted retailers`})},rt=r=>{a(t.filter(m=>m.domain!==r)),d(null),b({title:"Success",description:"Retailer removed"})},nt=r=>{a(t.map(m=>m.domain===r?{...m,isActive:!m.isActive}:m))},it=r=>{var m;try{const L=new URL(r).hostname.replace(/^www\./,""),te=t.some(S=>S.isActive&&S.domain===L);_({isValid:te,message:te?`✓ Valid - ${(m=t.find(S=>S.domain===L))==null?void 0:m.name}`:`✗ Not trusted - ${L}`})}catch{_({isValid:!1,message:"✗ Invalid URL format"})}},Q=t.filter(r=>r.name.toLowerCase().includes(o.toLowerCase())||r.domain.toLowerCase().includes(o.toLowerCase())||r.category.toLowerCase().includes(o.toLowerCase())),$={total:t.length,active:t.filter(r=>r.isActive).length,byCategory:Object.entries(t.reduce((r,m)=>(r[m.category]=(r[m.category]||0)+1,r),{}))};return e.jsxs(e.Fragment,{children:[e.jsx(jt,{title:"Manage Retailers - Admin",description:"Manage trusted affiliate retailers"}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(xt,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"font-serif text-3xl font-bold mb-2",children:[e.jsx(St,{className:"inline-block w-8 h-8 mr-2 -mt-1"}),"Trusted Retailers"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage whitelist for affiliate redirect security"})]}),e.jsxs(y,{onClick:()=>l(!0),children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"Add Retailer"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-6",children:[e.jsxs(N,{children:[e.jsx(T,{className:"pb-2",children:e.jsx(P,{className:"text-sm font-medium text-muted-foreground",children:"Total Retailers"})}),e.jsx(j,{children:e.jsx("div",{className:"text-2xl font-bold",children:$.total})})]}),e.jsxs(N,{children:[e.jsx(T,{className:"pb-2",children:e.jsx(P,{className:"text-sm font-medium text-muted-foreground",children:"Active"})}),e.jsx(j,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:$.active})})]}),(Z=(X=$.byCategory)==null?void 0:X.slice(0,2))==null?void 0:Z.map(([r,m])=>e.jsxs(N,{children:[e.jsx(T,{className:"pb-2",children:e.jsx(P,{className:"text-sm font-medium text-muted-foreground capitalize",children:I[r].label})}),e.jsx(j,{children:e.jsx("div",{className:"text-2xl font-bold",children:m})})]},r))]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx(Dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(O,{placeholder:"Search retailers by name, domain, or category...",value:o,onChange:r=>s(r.target.value),className:"pl-10"})]}),e.jsxs(N,{className:"mb-6",children:[e.jsxs(T,{children:[e.jsx(P,{className:"text-lg",children:"Test Affiliate URL"}),e.jsx(ht,{children:"Check if a URL is from a trusted retailer"})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx(O,{placeholder:"https://www.nordstrom.com/product/...",value:u,onChange:r=>g(r.target.value),className:"flex-1"}),e.jsx(y,{onClick:()=>it(u),variant:"outline",children:"Test URL"})]}),p&&e.jsxs("div",{className:`mt-3 flex items-center gap-2 text-sm ${p.isValid?"text-green-600":"text-destructive"}`,children:[p.isValid?e.jsx(Ct,{className:"w-4 h-4"}):e.jsx(_t,{className:"w-4 h-4"}),p.message]})]})]})]}),e.jsx("div",{className:"space-y-3",children:Q.length===0?e.jsx(N,{children:e.jsxs(j,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:o?"No retailers found matching your search":"No retailers yet"}),!o&&e.jsxs(y,{onClick:()=>l(!0),children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"Add First Retailer"]})]})}):Q.map(r=>e.jsx(N,{children:e.jsxs(j,{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[e.jsx("div",{className:`w-2 h-16 rounded-full ${r.isActive?"bg-green-500":"bg-gray-300"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold truncate",children:r.name}),e.jsx(ae,{variant:"secondary",className:`${I[r.category].color} text-white text-xs`,children:I[r.category].label}),!r.isActive&&e.jsx(ae,{variant:"outline",className:"text-xs",children:"Inactive"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{className:"truncate",children:r.domain}),e.jsx("a",{href:`https://${r.domain}`,target:"_blank",rel:"noopener noreferrer",className:"shrink-0 hover:text-primary",children:e.jsx(bt,{className:"w-3 h-3"})})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{variant:r.isActive?"outline":"default",size:"sm",onClick:()=>nt(r.domain),children:r.isActive?"Deactivate":"Activate"}),e.jsx(y,{variant:"outline",size:"sm",onClick:()=>d(r.domain),className:"text-destructive hover:text-destructive",children:e.jsx(Rt,{className:"w-4 h-4"})})]})]})},r.domain))})]})]}),e.jsx(Wt,{open:n,onOpenChange:l,children:e.jsxs(we,{children:[e.jsxs(_e,{children:[e.jsx(Se,{children:"Add Trusted Retailer"}),e.jsx(Oe,{children:"Add a new retailer to the whitelist for affiliate redirects"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(z,{htmlFor:"retailer-name",children:"Retailer Name *"}),e.jsx(O,{id:"retailer-name",placeholder:"Nordstrom",value:h.name,onChange:r=>E({...h,name:r.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(z,{htmlFor:"retailer-domain",children:"Domain *"}),e.jsx(O,{id:"retailer-domain",placeholder:"nordstrom.com",value:h.domain,onChange:r=>E({...h,domain:r.target.value})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter domain only (e.g., nordstrom.com, not https://www.nordstrom.com)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(z,{htmlFor:"retailer-category",children:"Category *"}),e.jsx("select",{id:"retailer-category",className:"w-full px-3 py-2 border rounded-md",value:h.category,onChange:r=>E({...h,category:r.target.value}),children:Object.entries(I).map(([r,{label:m}])=>e.jsx("option",{value:r,children:m},r))})]})]}),e.jsxs(Ee,{children:[e.jsx(y,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(y,{onClick:st,children:"Add Retailer"})]})]})}),e.jsx(aa,{open:!!c,onOpenChange:()=>d(null),children:e.jsxs(Qe,{children:[e.jsxs(Xe,{children:[e.jsx(et,{children:"Are you sure?"}),e.jsxs(tt,{children:["This will remove"," ",e.jsx("strong",{children:(ee=t.find(r=>r.domain===c))==null?void 0:ee.name})," ","from the trusted retailers list. Affiliate links from this retailer will be blocked."]})]}),e.jsxs(Ze,{children:[e.jsx(ot,{children:"Cancel"}),e.jsx(at,{onClick:()=>c&&rt(c),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}export{ya as default};
