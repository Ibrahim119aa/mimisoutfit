import{j as e,L as N,r as o,b as w,B as g,h as S}from"./index-Qx7ctAR2.js";import{S as k}from"./SectionHeader-ewKu5VD7.js";import{B as E}from"./badge-DoxW1_sb.js";import{O as M,S as L}from"./ShareButton-dM5l3E_x.js";import{S as P}from"./SkeletonMoodboard-x7bnQF-Z.js";import{S as T}from"./SEO--jquLTE9.js";import{D as C}from"./pagination.utils-CpXb1ZVg.js";import{m as f}from"./moodboards.api-CnICTuU_.js";import"./index-C24RUjyj.js";import"./dropdown-menu-CEi7-3xO.js";import"./message-circle-DXhQ8rnq.js";function A({moodboard:s}){var u,x,d,l,n;const i=((u=s.products)==null?void 0:u.filter(a=>a&&a.id).length)||0;return e.jsx(N,{to:`/moodboards/${s.slug}`,className:"group block touch-target",children:e.jsxs("div",{className:"bg-surface card-mobile overflow-hidden shadow-elegant hover-lift",children:[e.jsxs("div",{className:"relative overflow-hidden group/image",children:[e.jsx(M,{src:s.coverImage,alt:`${s.title} - Fashion moodboard with ${i} curated pieces featuring ${((d=(x=s.tags)==null?void 0:x.slice(0,2))==null?void 0:d.join(" and "))||"curated"} styles`,blurhash:s.coverBlurhash,aspectRatio:"4/5",className:"group-hover/image:scale-105 transition-transform duration-500",sizes:"(max-width: 768px) 100vw, 50vw"}),s.isPublished===!1&&e.jsx("div",{className:"absolute top-3 left-3 bg-yellow-500/90 text-yellow-950 px-2.5 py-1.5 rounded text-xs font-semibold z-10",children:"UNPUBLISHED"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]}),e.jsxs("div",{className:"p-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3 gap-2",children:[e.jsx("h3",{className:"font-display text-lg sm:text-xl text-foreground group-hover:text-primary transition-colors line-clamp-2 flex-1 font-medium",children:s.title}),s.isFeatured&&e.jsx(E,{variant:"secondary",className:"bg-accent/20 text-accent-foreground border border-accent/30 text-xs shrink-0 font-medium",children:"Featured"})]}),e.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"space-y-3 pt-3 border-t border-border/50",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("div",{className:"flex gap-2 flex-wrap",children:(n=(l=s.tags)==null?void 0:l.slice(0,2))==null?void 0:n.map(a=>e.jsxs("span",{className:"text-xs px-2.5 py-1 bg-secondary/50 text-secondary-foreground rounded-md font-medium",children:["#",a]},a))}),e.jsxs("div",{className:"text-sm text-muted-foreground font-medium shrink-0",children:[i," pieces"]})]}),e.jsx("div",{onClick:a=>a.stopPropagation(),children:e.jsx(L,{title:s.title,description:s.description,imageUrl:s.coverImage,url:`${window.location.origin}/moodboards/${s.slug}`,type:"moodboard",variant:"outline",size:"sm",showLabel:!0})})]})]})]})})}function F(s){const[i,u]=o.useState([]),[x,d]=o.useState({page:1,limit:C,total:0,totalPages:0,hasNextPage:!1,hasPrevPage:!1}),[l,n]=o.useState(!0),[a,h]=o.useState(null);return o.useEffect(()=>{let c=!0;return(async()=>{try{n(!0),h(null);const r=await f.getAllMoodboards(s);c&&(u(r.data),d(r.pagination))}catch(r){c&&h(r instanceof Error?r:new Error("Failed to fetch moodboards"))}finally{c&&n(!1)}})(),()=>{c=!1}},[JSON.stringify(s)]),{moodboards:i,pagination:x,loading:l,error:a}}function J(){const[s,i]=o.useState("all"),[u,x]=o.useState(!1),[d,l]=o.useState(["all"]),[n,a]=o.useState(!0),{isAuthenticated:h}=w();o.useEffect(()=>{(async()=>{try{a(!0);const j=(await f.getMoodboardTags()).sort((v,y)=>v.localeCompare(y));l(["all",...j])}catch(m){console.error("Failed to fetch moodboard tags:",m),l(["all","parisian","minimalist","luxe","chic","modern"])}finally{a(!1)}})()},[]);const{moodboards:c,loading:p}=F({tag:s==="all"?void 0:s}),r=o.useMemo(()=>c,[c]),b=t=>{i(t),S({page:"moodboards",filter:"tag",value:t})};return e.jsxs(e.Fragment,{children:[e.jsx(T,{title:"Moodboards & Style Collections",description:"Explore curated fashion moodboards featuring diverse aesthetics from Parisian chic to minimalist modern. Get inspired with complete shoppable looks.",url:"https://thelookbookbymimi.com/moodboards"}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"relative mobile-section mobile-container",children:e.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[e.jsx("h1",{className:"font-display text-mobile-hero text-neutral-900 mb-4 sm:mb-6",children:"Curated Looks"}),e.jsx("p",{className:"text-mobile-body text-neutral-600 max-w-2xl mx-auto leading-relaxed",children:"Discover thoughtfully curated moodboards that capture the essence of modern style. Each collection tells a story through carefully selected pieces."})]})}),e.jsx("section",{className:"mobile-container mb-8 sm:mb-12",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3 justify-center",children:n?e.jsx("div",{className:"flex gap-2 sm:gap-3",children:[...Array(6)].map((t,m)=>e.jsx("div",{className:"h-9 w-20 bg-neutral-200 animate-pulse rounded-md"},m))}):d.map(t=>e.jsx(g,{variant:s===t?"default":"outline",size:"sm",onClick:()=>b(t),className:`capitalize transition-all duration-200 touch-target ${s===t?"bg-primary text-white shadow-sm":"border-neutral-300 hover:border-primary hover:text-primary"}`,children:t==="all"?"All Looks":`#${t}`},t))})})}),e.jsx("section",{className:"mobile-container pb-12 sm:pb-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(k,{title:"Editorial Collections",subtitle:p?"Loading...":`${r.length} curated looks`}),p?e.jsx("div",{className:"grid-mobile-moodboards gap-4 sm:gap-6 md:gap-8",children:[...Array(6)].map((t,m)=>e.jsx(P,{},m))}):r.length>0?e.jsx("div",{className:"grid-mobile-moodboards gap-4 sm:gap-6 md:gap-8",children:r.map(t=>e.jsx(A,{moodboard:t},t.id))}):e.jsxs("div",{className:"text-center py-12 sm:py-20",children:[e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto mb-4 sm:mb-6 rounded-full bg-neutral-100 flex items-center justify-center",children:e.jsx("span",{className:"text-xl sm:text-2xl",children:"âœ¨"})}),e.jsx("h3",{className:"font-display text-lg sm:text-xl text-neutral-900 mb-2",children:"No looks found"}),e.jsx("p",{className:"text-sm sm:text-base text-neutral-600 mb-4 sm:mb-6",children:"Try adjusting your filter or browse all collections"}),e.jsx(g,{className:"btn-mobile",onClick:()=>i("all"),children:"View All Looks"})]})]})})]})]})}export{J as default};
