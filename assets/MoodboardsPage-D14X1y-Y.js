import{j as e,L as S,r as a,B as j,h as P}from"./index-D3NDjr5B.js";import{S as k}from"./SectionHeader-BnyDhwTA.js";import{B as C}from"./badge-BNXinaOz.js";import{O as E,S as M}from"./ShareButton-CCU5gDqq.js";import{S as F}from"./SkeletonMoodboard-Bi6yLTB0.js";import{S as T}from"./SEO-BaS7uEy3.js";import{D as L,P as z}from"./Pagination-CZdkaaXY.js";import{m as v}from"./moodboards.api-C7eEO7WO.js";import"./index-C24RUjyj.js";import"./dropdown-menu-DdC2iEtp.js";import"./message-circle-CJaOG4EY.js";import"./select-C-iFrNM3.js";import"./index-C8hAjUGN.js";function $({moodboard:s}){var i,l,u,m;return e.jsx(S,{to:`/moodboards/${s.slug}`,className:"group block touch-target",children:e.jsxs("div",{className:"bg-surface card-mobile overflow-hidden shadow-elegant hover-lift",children:[e.jsxs("div",{className:"relative overflow-hidden group/image",children:[e.jsx(E,{src:s.coverImage,alt:`${s.title} - Fashion moodboard with ${s.productCount} curated pieces featuring ${((l=(i=s.tags)==null?void 0:i.slice(0,2))==null?void 0:l.join(" and "))||"curated"} styles`,blurhash:s.coverBlurhash,aspectRatio:"4/5",className:"group-hover/image:scale-105 transition-transform duration-500",sizes:"(max-width: 768px) 100vw, 50vw"}),s.isPublished===!1&&e.jsx("div",{className:"absolute top-3 left-3 bg-yellow-500/90 text-yellow-950 px-2.5 py-1.5 rounded text-xs font-semibold z-10",children:"UNPUBLISHED"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]}),e.jsxs("div",{className:"p-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3 gap-2",children:[e.jsx("h3",{className:"font-display text-lg sm:text-xl text-foreground group-hover:text-primary transition-colors line-clamp-2 flex-1 font-medium",children:s.title}),s.isFeatured&&e.jsx(C,{variant:"secondary",className:"bg-accent/20 text-accent-foreground border border-accent/30 text-xs shrink-0 font-medium",children:"Featured"})]}),e.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"space-y-3 pt-3 border-t border-border/50",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("div",{className:"flex gap-2 flex-wrap",children:(m=(u=s.tags)==null?void 0:u.slice(0,2))==null?void 0:m.map(n=>e.jsxs("span",{className:"text-xs px-2.5 py-1 bg-secondary/50 text-secondary-foreground rounded-md font-medium",children:["#",n]},n))}),e.jsxs("div",{className:"text-sm text-muted-foreground font-medium shrink-0",children:[s.productCount||0," pieces"]})]}),e.jsx("div",{onClick:n=>n.stopPropagation(),children:e.jsx(M,{title:s.title,description:s.description,imageUrl:s.coverImage,url:`${window.location.origin}/moodboards/${s.slug}`,type:"moodboard",variant:"outline",size:"sm",showLabel:!0})})]})]})]})})}function A(s){const[i,l]=a.useState({page:1,limit:12,...s}),[u,m]=a.useState([]),[n,g]=a.useState({page:1,limit:12,totalCount:0,totalPages:0,hasNextPage:!1,hasPrevPage:!1}),[x,p]=a.useState(!0),[h,c]=a.useState(null),d=o=>{l(t=>({...t,page:o}))},b=o=>{l(t=>({...t,limit:o,page:1}))},f=o=>{l(t=>({...t,...o,page:1}))};return a.useEffect(()=>{let o=!0;return(async()=>{try{p(!0),c(null);const r=await v.getAllMoodboards(i);o&&(m(r.data),g(r.pagination))}catch(r){o&&c(r instanceof Error?r:new Error("Failed to fetch moodboards"))}finally{o&&p(!1)}})(),()=>{o=!1}},[JSON.stringify(i)]),{moodboards:u,pagination:n,loading:x,error:h,setPage:d,setPageSize:b,updateFilters:f}}function B(s){const[i,l]=a.useState({...s,page:1,limit:L}),{moodboards:u,pagination:m,loading:n,error:g}=A(i),x=a.useCallback(c=>{l(d=>({...d,page:c})),window.scrollTo({top:0,behavior:"smooth"})},[]),p=a.useCallback(c=>{l(d=>({...d,limit:c,page:1}))},[]),h=a.useCallback(c=>{l(d=>({...c,page:1,limit:d.limit}))},[]);return{moodboards:u,pagination:m,loading:n,error:g,filters:i,setPage:x,setPageSize:p,updateFilters:h}}function Q(){const[s,i]=a.useState("all"),[l,u]=a.useState(!1),[m,n]=a.useState(["all"]),[g,x]=a.useState(!0);a.useEffect(()=>{(async()=>{try{x(!0);const y=(await v.getMoodboardTags()).sort((N,w)=>N.localeCompare(w));n(["all",...y])}catch(r){console.error("Failed to fetch moodboard tags:",r),n(["all","parisian","minimalist","luxe","chic","modern"])}finally{x(!1)}})()},[]);const{moodboards:p,pagination:h,loading:c,setPage:d,setPageSize:b}=B({tag:s==="all"?void 0:s}),f=a.useMemo(()=>p,[p]),o=t=>{i(t),P({page:"moodboards",filter:"tag",value:t})};return e.jsxs(e.Fragment,{children:[e.jsx(T,{title:"Moodboards & Style Collections",description:"Explore curated fashion moodboards featuring diverse aesthetics from Parisian chic to minimalist modern. Get inspired with complete shoppable looks.",url:"https://thelookbookbymimi.com/moodboards"}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"relative mobile-section mobile-container",children:e.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[e.jsx("h1",{className:"font-display text-mobile-hero text-neutral-900 mb-4 sm:mb-6",children:"Curated Looks"}),e.jsx("p",{className:"text-mobile-body text-neutral-600 max-w-2xl mx-auto leading-relaxed",children:"Discover thoughtfully curated moodboards that capture the essence of modern style. Each collection tells a story through carefully selected pieces."})]})}),e.jsx("section",{className:"mobile-container mb-8 sm:mb-12",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3 justify-center",children:g?e.jsx("div",{className:"flex gap-2 sm:gap-3",children:[...Array(6)].map((t,r)=>e.jsx("div",{className:"h-9 w-20 bg-neutral-200 animate-pulse rounded-md"},r))}):m.map(t=>e.jsx(j,{variant:s===t?"default":"outline",size:"sm",onClick:()=>o(t),className:`capitalize transition-all duration-200 touch-target ${s===t?"bg-primary text-white shadow-sm":"border-neutral-300 hover:border-primary hover:text-primary"}`,children:t==="all"?"All Looks":`#${t}`},t))})})}),e.jsx("section",{className:"mobile-container pb-12 sm:pb-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(k,{title:"Editorial Collections",subtitle:c?"Loading...":`${f.length} curated looks`}),c?e.jsx("div",{className:"grid-mobile-moodboards gap-4 sm:gap-6 md:gap-8",children:[...Array(6)].map((t,r)=>e.jsx(F,{},r))}):f.length>0?e.jsxs("div",{className:"grid-mobile-moodboards gap-4 sm:gap-6 md:gap-8",children:[f.map(t=>e.jsx($,{moodboard:t},t.id)),e.jsx(z,{pagination:h,onPageChange:d,onPageSizeChange:b,showPageSize:!1,className:"mt-10 mb-16"})]}):e.jsxs("div",{className:"text-center py-12 sm:py-20",children:[e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto mb-4 sm:mb-6 rounded-full bg-neutral-100 flex items-center justify-center",children:e.jsx("span",{className:"text-xl sm:text-2xl",children:"âœ¨"})}),e.jsx("h3",{className:"font-display text-lg sm:text-xl text-neutral-900 mb-2",children:"No looks found"}),e.jsx("p",{className:"text-sm sm:text-base text-neutral-600 mb-4 sm:mb-6",children:"Try adjusting your filter or browse all collections"}),e.jsx(j,{className:"btn-mobile",onClick:()=>i("all"),children:"View All Looks"})]})]})})]})]})}export{Q as default};
